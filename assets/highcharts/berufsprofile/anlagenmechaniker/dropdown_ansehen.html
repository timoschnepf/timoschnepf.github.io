<!DOCTYPE html>
<html>
<head>
    <!-- Link to Google Fonts for Fira Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/full-screen.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    
    <style>
        body {
            font-family: 'Fira Sans', sans-serif;
        }
        h2, p {
            font-family: 'Fira Sans', sans-serif;
        }
    </style>
</head>
<body>

<!-- Title above the chart -->
<p style="font-size: 14px; text-align: left; margin-bottom: 10px;">Berufliches Ansehen</p>



<!-- Dropdown for selecting different job categories -->
<select id="berufSelect" onchange="updateChart()">
    <option value="beruf1">Anlagenmechaniker für Sanitär-, Heizungs- und Klimatechnik</option>
    <option value="beruf2">Gas- und Wasserinstallateure</option>
</select>

<div id="container" style="width:100%; height:400px;"></div>

<script type="text/javascript">

// Function to update the chart based on dropdown selection
function updateChart() {
    const selectedBeruf = document.getElementById('berufSelect').value;

    let chartOptions;
    let berufLabel;

    if (selectedBeruf === 'beruf1') {
        berufLabel = 'Anlagenmechaniker für Sanitär-, Heizungs- und Klimatechnik';
        chartOptions = {
            title: {
                text: ''
            },
            xAxis: {
                categories: ['Anlagenmechaniker für Sanitär-, Heizungs- und Klimatechnik', 'Alle Fachkräfteberufe']
            },
            series: [{
                name: berufLabel,
                data: [6.07, 5.53]  // Data for Klempnerei for 2012 and 2018
            }]
        };
    } else if (selectedBeruf === 'beruf2') {
        berufLabel = 'Gas- und Wasserinstallateure';
        chartOptions = {
            title: {
                text: ''
            },
            xAxis: {
                categories: ['Gas- und Wasserinstallateure', 'Alle Fachkräfteberufe']
            },
            series: [{
                name: berufLabel,
                data: [6.49, 5.53]  // Fictional data for Elektroniker for 2012 and 2018
            }]
        };
    }

    // Initialize or update the chart
    Highcharts.chart('container', {
    chart: {
        type: 'bar',
        backgroundColor: '#f7f7f7'
    },
        title: chartOptions.title,
        credits: {
            enabled: false
        },
        exporting: {
            enabled: true,
            buttons: {
                contextButton: {
                    menuItems: [
                        'viewFullscreen',
                        'separator',
                        'viewData',
                        'downloadCSV',
                        'downloadXLS',
                        'separator',
                        'downloadPNG',
                        'downloadPDF',
                        'downloadSVG',
                    ]
                }
            }
        },
       xAxis: {
            categories: chartOptions.xAxis.categories
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Mittelwert',
                align: 'high'
            },
            labels: {
                overflow: 'justify'
            }
        },
        tooltip: {
            formatter: function() {
                return `<span style="font-size:10px;">Einzelberuf</span><br>
                        <b>${berufLabel}</b><br/><br>
                        Das durchschnittliche Ansehen für<br>
			"${this.x}" hatte <br>
                        2018 einen <b>Wert von ${this.y}</b>.`;
            }
        },
        legend: {
            enabled: false  // Disable the legend
        },
        plotOptions: {
            bar: {
                dataLabels: {
                    enabled: true
                }
            }
        },
        series: chartOptions.series
    });
}

// Initial chart display
updateChart();

</script>

<!-- Text below the chart -->
<p style="text-align: left; font-size: 12px; margin-top: 20px;">
Der Indikator zeigt die Wahrnehmung des beruflichen Ansehens des Berufs nach dem Mittelwert.
<br><br>
Das Berufliche Ansehen wurde anhand der Frage ermittelt, wie hoch Befragte ihrer  "Meinung nach heute das Ansehen von Beruf "X" in Deutschland"  einschätzen. Antwortmöglichkeit waren eine 11-Stufige Skala von  "Sehr geringes Ansehen" bis "Sehr hohes Ansehen". 
</p>

</body>
</html>

